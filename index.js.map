{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const getImages = search => {\n  const SearchParams = new URLSearchParams({\n    key: '47396593-fa81edaacd7e53da3770e0abc',\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `https://pixabay.com/api/?${SearchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","export const creatImg = images =>\n  images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                <ul class=\"img-info-list\">\n                    <li class=\"img-info-item\">\n                        <p class=\"info-title\">Likes</p>\n                        <p class=\"info-value\">${image.likes}</p>\n                    </li>\n                    <li class=\"img-info-item\">\n                        <p class=\"info-title\">Views</p>\n                       <p class=\"info-value\">${image.views}</p>\n                    </li>\n                    <li class=\"img-info-item\">\n                        <p class=\"info-title\">Comments</p>\n                        <p class=\"info-value\">${image.comments}</p>\n                    </li>\n                    <li class=\"img-info-item\">\n                        <p class=\"info-title\">Downloads</p>\n                        <p class=\"info-value\">${image.downloads}</p>\n                    </li>\n                </ul>\n            </a>\n        </li>`\n    )\n    .join('');\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\niziToast.settings({\n  position: 'topRight',\n  maxWidth: '432px',\n});\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getImages } from './js/pixabay-api';\nimport { creatImg } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\nconst gallery = document.querySelector('.gallery-list');\nconst galleryImg = new SimpleLightbox('.gallery-item .gallery-link', {\n  captionsData: 'alt',\n});\n\nform.addEventListener('submit', handSub);\n\nfunction handSub(event) {\n  event.preventDefault();\n  let inputValue = event.target.elements.input.value.trim();\n\n  if (inputValue === '') {\n    loader.style.display = 'none';\n    iziToast.warning({\n      message: 'The field is empty!',\n    });\n    return;\n  }\n  if (inputValue) {\n    loader.style.display = 'block';\n  }\n\n  getImages(inputValue)\n    .then(response => {\n      if (response.total === 0) {\n        gallery.innerHTML = '';\n        throw new Error();\n      }\n      loader.style.display = 'none';\n      return response.hits;\n    })\n    .then(images => {\n      gallery.innerHTML = '';\n      loader.style.display = 'none';\n      gallery.innerHTML = creatImg(images);\n      galleryImg.refresh();\n    })\n    .catch(() => {\n      loader.style.display = 'none';\n      iziToast.error({\n        iconColor: '#ffffff',\n        messageColor: '#ffffff',\n        progressBarColor: '#ffffff',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      event.target.elements.input.value = '';\n    });\n}\n"],"names":["getImages","search","url","response","creatImg","images","image","iziToast","form","loader","gallery","galleryImg","SimpleLightbox","handSub","event","inputValue"],"mappings":"6vBAAO,MAAMA,EAAYC,GAAU,CASjC,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECjBaC,EAAWC,GACtBA,EACG,IACCC,GACE;AAAA,4CACoCA,EAAM,aAAa;AAAA,gDACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,gDAItCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIZA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gDAIVA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,gDAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,cAK1D,EACA,KAAK,EAAE,EC1BZC,EAAS,SAAS,CAChB,SAAU,WACV,SAAU,OACZ,CAAC,EAMD,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACvB,MAAMC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAa,IAAIC,EAAe,8BAA+B,CACnE,aAAc,KAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAO,EAEvC,SAASA,EAAQC,EAAO,CACtBA,EAAM,eAAc,EACpB,IAAIC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OAEnD,GAAIC,IAAe,GAAI,CACrBN,EAAO,MAAM,QAAU,OACvBF,EAAS,QAAQ,CACf,QAAS,qBACf,CAAK,EACD,MACD,CACGQ,IACFN,EAAO,MAAM,QAAU,SAGzBT,EAAUe,CAAU,EACjB,KAAKZ,GAAY,CAChB,GAAIA,EAAS,QAAU,EACrB,MAAAO,EAAQ,UAAY,GACd,IAAI,MAEZ,OAAAD,EAAO,MAAM,QAAU,OAChBN,EAAS,IACtB,CAAK,EACA,KAAKE,GAAU,CACdK,EAAQ,UAAY,GACpBD,EAAO,MAAM,QAAU,OACvBC,EAAQ,UAAYN,EAASC,CAAM,EACnCM,EAAW,QAAO,CACxB,CAAK,EACA,MAAM,IAAM,CACXF,EAAO,MAAM,QAAU,OACvBF,EAAS,MAAM,CACb,UAAW,UACX,aAAc,UACd,iBAAkB,UAClB,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbO,EAAM,OAAO,SAAS,MAAM,MAAQ,EAC1C,CAAK,CACL"}